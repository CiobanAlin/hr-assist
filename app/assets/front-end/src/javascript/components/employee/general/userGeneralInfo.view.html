<!-- CARD GENERAL INFO -->
<md-card class="has-progress-bar">





  <!-- CARD TITLE -->
  <md-card-title layout="row" layout-align="top center">

    <div class="c-profile-progress">
      <span class="c-profile-progress__info">
        {{userGeneralInfo.progress}}% completed
      </span>
      <span class="c-profile-progress__bar" style="width: {{userGeneralInfo.progress}}%"></span>
    </div>

    <md-card-title-text>
      <span class="md-headline">General informations</span>
      <p class="u-font-small u-no-margin">
        <strong>Last Update at: {{userGeneralInfo.user.updatedAt | date: 'longDate'}}</strong>
      </p>
    </md-card-title-text>

    <md-button
      ng-hide="userGeneralInfo.candidate"
      class="md-primary"
      ui-sref="usersParent.cv({id: userGeneralInfo.pId})">
      <!-- @!TODO: De adaugat info despre proiecte la CV -->
      Generate CV
    </md-button>

    <md-button
      ng-show="userGeneralInfo.candidate"
      class="md-primary"
      ui-sref="candidateParent.cv({id: userGeneralInfo.pId})">
      Generate CV
    </md-button>

  </md-card-title><!-- /CARD TITLE -->





  <!-- CARD NOTES -->
  <md-content class="c-card-profile__notes">
    <p>
      <strong>NOTE: </strong>Complete here with your general personal/work information.
    </p>
  </md-content> <!-- CARD NOTES -->





  <!-- PREVIEW GENERAL INFO -->
  <md-content
    ng-show="userGeneralInfo.disabledgeneralInfo"
    class="c-card-profile__preview">
   <section layout-gt-xs="row">

    <div class="c-card-profile__picture"
      flex="20"
      ng-if="userGeneralInfo.user.picture"
      layout-align="top center">
      <img
        ng-src="{{userGeneralInfo.user.picture}}"
        class="md-card-image cv-picture">
    </div>

    <div class="c-card-profile__picture"
      flex="20"
      ng-if="!userGeneralInfo.user.picture"
      layout-align="top center">
      <img
        src="http://www.85percent.co.uk/wp-content/uploads/2015/08/default-placeholder-1024x1024-570x321.png"
        class="md-card-image">
     </div>

     <div flex="80" class="c-card-profile__general-info">

      <p class="c-card-profile__info c-card-profile__name u-clearfix">
        <span class="c-card-profile__info-text u-float-right">
          <strong>
            {{userGeneralInfo.user.first_name}} {{userGeneralInfo.user.middle_name}} {{userGeneralInfo.user.last_name}}
          </strong>
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix">
        <strong>Birthday: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.birthday | date: 'dd MMMM yyyy' }}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__phone u-clearfix">
        <strong>Phone: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.phone }}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__email u-clearfix">
        <strong>Other email: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.other_email }}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__address u-clearfix">
        <strong>Address: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.address }}
<!--           {{ userGeneralInfo.user.address.zip }}
          {{ userGeneralInfo.user.address.city }} -->
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix">
        <strong>Car's license plate: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.car_plate }}
        </span>
      </p>

      <md-divider
        class="md-padding divider-bold u-no-padding u-mt-20 u-mb-20">
      </md-divider>

      <p class="c-card-profile__info c-card-profile__email u-clearfix"
        ng-hide="userGeneralInfo.candidate">
        <strong>Start date at ASSIST: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.company_start_date | date: 'MMMM yyyy' }}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__email u-clearfix">
        <strong>Position: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.userPosition.name }}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__email u-clearfix">
        <strong>ASSIST email: </strong>
         <span class="u-float-right">
          {{ userGeneralInfo.user.email }}
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix"
        ng-hide="userGeneralInfo.candidate">
        <strong>Office: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.office_nr }}
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix"
        ng-hide="userGeneralInfo.candidate">
        <strong>Contract type: </strong>
        <span class="u-float-right">
          {{ userGeneralInfo.userSchedule.name }}
        </span>
       </p>

      <md-divider
        class="md-padding divider-bold u-no-padding u-mt-20 u-mb-20">
      </md-divider>

      <p class="c-card-profile__info u-clearfix">
        <strong>Urgent Contact Person:</strong>
        <span class="u-float-right">
          {{ userGeneralInfo.user.urgent_contact_name }}
        </span>
      </p>

      <p class="c-card-profile__info">
        <strong>Urgent Contact Phone: </strong>
        <span class="u-float-right">
            {{ userGeneralInfo.user.urgent_contact_phone }}
        </span>
      </p>

     </div>

    </section>
  </md-content><!-- /PREVIEW GENERAL INFO -->





  <!-- FORM GENERAL INFO -->
  <md-content
    class="md-padding"
    ng-hide="userGeneralInfo.disabledgeneralInfo">
    <!-- @!TODO: Poza este intoarsa, de verificat -->

    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block u-mb-20">
        <md-button
          class="md-raised u-no-margin"
          ngf-select="userGeneralInfo.upload($file)"
          ngf-pattern="'image/*'"
          ngf-accept="'image/*'"
          ngf-max-size="1MB"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo">
          Upload profile picture
          <!-- @!TODO: de aratat si in modul edit poza daca asceasta exista -->
       </md-button>
      </md-input-container>
    </div>

    <div ng-show="userGeneralInfo.showSuccessMsg"
      class="alert-success fade"
      role="alert">
      Your picture has been successfully uploaded.
    </div>

    <div ng-show="userGeneralInfo.showErrMsg"
      class="alert-error fade"
      role="alert">
      A problem occurred while uploading the prohile picture.
    </div>

     <div ng-show="userGeneralInfo.showToLargeImage"
      class="alert-error fade"
      role="alert">
      Image size is too big. The size limit is 1MB.
    </div>



    <!-- PERSONAL INFO -->
    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>

    <!-- First Name -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>First Name</label>
        <input
          type="text"
          ng-value="userGeneralInfo.user.first_name"
          ng-model="userGeneralInfo.copyUser.first_name"
          name=firstName
          ng-disabled ="userGeneralInfo.disabledgeneralInfo">

        <div ng-messages="userGeneralInfo.firstName.$error">
          <div ng-message="required">This field is required</div>
        </div>

      </md-input-container>
    </div><!-- /First Name -->

    <!-- Middle Name -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>Middle Name</label>
        <input
          type="text"
          ng-model="userGeneralInfo.copyUser.middle_name"
          ng-value="userGeneralInfo.user.middle_name"
          name="middleName"
          ng-disabled="userGeneralInfo.disabledgeneralInfo">

        <div ng-messages="userGeneralInfo.middleName.$error">
          <div ng-message="required">This field is required</div>
        </div>

      </md-input-container>
    </div><!-- /Middle Name -->

    <!-- Last Name -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>Last Name</label>
        <input
          type="text"
          ng-model="userGeneralInfo.copyUser.last_name"
          ng-value="userGeneralInfo.user.last_name"
          name="lastName"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo">

        <div ng-messages="userGeneralInfo.lastName.$error">
          <div ng-message="required">This field is required</div>
        </div>

      </md-input-container>
    </div><!-- Last Name -->

    <!-- BIRTHDAY -->
    <div layout-gt-xs="row" layout-align="start center" class="u-ml-10 u-mr-10">

      <label class="u-mr-20">Birthday</label>
      <hra-date-select
        ng-model="userGeneralInfo.copyUser.birthday" >
      </hra-date-select>

    </div><!-- /BIRTHDAY -->




    <!-- CONTACT INFO -->
    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>

    <!-- Address -->
    <div layout-gt-xs="row">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <label>City</label>
        <input
          type="text"
          name=judet
          ng-value="userGeneralInfo.user.city"
          ng-model="userGeneralInfo.copyUser.city"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo">
      </md-input-container>

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <label>ZIP</label>
        <input
          type="text"
          name=localitate
          ng-value="userGeneralInfo.user.zip_code"
          ng-model="userGeneralInfo.copyUser.zip_code"
          ng-disabled="userGeneralInfo.disabledgeneralInfo">
      </md-input-container>

    </div>

    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="100">
        <label>Address</label>
        <input
          type="text"
          name=adresa
          ng-value="userGeneralInfo.user.address"
          ng-model="userGeneralInfo.copyUser.address"
          ng-disabled="userGeneralInfo.disabledgeneralInfo">
      </md-input-container>
    </div>
    <!-- /Address -->

    <!-- PHONE AND EMAIL -->
    <div layout-gt-xs="row">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">

        <label>Phone</label>
        <input
          ng-value="userGeneralInfo.user.phone"
          ng-model="userGeneralInfo.copyUser.phone"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo">

        <div ng-messages="serverErrors">
          {{serverErrorsArray.data.invalidAttributes.phone[0].message}}
        </div>

      </md-input-container>

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">

        <label>Email</label>
        <input
          ng-value="userGeneralInfo.user.other_email"
          ng-model="userGeneralInfo.copyUser.other_email"
          name="emailOther"
          type="email"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo">

        <div ng-messages="userGeneralInfo.email.$error">
          <div ng-message="email">Please insert a valid email</div>
        </div>

      </md-input-container>

    </div><!-- /PHONE AND EMAIL -->

    <!-- CAR LICENSE -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>Car's license plate</label>
        <input
          type="text"
          ng-value="userGeneralInfo.user.car_plate"
          ng-model="userGeneralInfo.copyUser.car_plate"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo">

      </md-input-container>
    </div><!-- CAR LICENSE -->





    <!-- ASSIST INFO -->
    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>

    <!-- STARTED WORKING ON -->
    <div layout-gt-xs="row" layout-align="start center" ng-hide="userGeneralInfo.candidate">
      <label flex-gt-xs="35" class="md-padding">
        <strong>Start date at ASSIST</strong>
      </label>

      <hra-date-select class="hide-days"
        flex-gt-xs="65"
        ng-model="userGeneralInfo.copyUser.company_start_date">
      </hra-date-select>

    </div><!-- STARTED WORKING ON -->

    <!-- ASSIST POSITION -->
    <div layout-gt-xs="row" layout-align="start center" ng-hide="userGeneralInfo.candidate">

      <label flex-gt-xs="35" class="md-padding">
        <strong>Position</strong>
      </label>

      <md-input-container md-no-float class="md-block" flex-gt-xs="65">
        <md-select
          aria-label="Position"
          ng-model="userGeneralInfo.copyUserPosition.name"
          md-selected-text="userGeneralInfo.getSelectedText(userGeneralInfo.copyUserPosition.name, position=1)">
            <md-option
             ng-value="position"
             ng-repeat="position in userGeneralInfo.userAssistPositionTitles track by $index">
               {{position}}
            </md-option>
        </md-select>
      </md-input-container>

    </div><!-- ASSIST POSITION -->

    <!-- ASSIST CANDIDATE POSITION -->
    <div layout-gt-xs="row" layout-align="start center" ng-show="userGeneralInfo.candidate">

      <label flex-gt-xs="35" class="md-padding u-mb-20">
        <strong>Position</strong>
      </label>

      <md-input-container md-no-float class="md-block" flex-gt-xs="30">
        <md-select
          aria-label ="Position"
          ng-model="userGeneralInfo.user.assistPositionTitle"
          md-selected-text="userGeneralInfo.getSelectedText(userGeneralInfo.user.assistPositionTitle, position=1)">
            <md-option
             ng-value="position"
             ng-repeat="position in userGeneralInfo.candidatesPositionTitle">
               {{position}}
            </md-option>
        </md-select>
      </md-input-container>

    </div><!-- ASSIST CANDIDATE POSITION -->

    <!-- ASSIST EMAIL -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>ASSIT email</label>

        <input
          ng-value="userGeneralInfo.user.email"
          ng-model="userGeneralInfo.copyUser.email"
          name="emailAssist"
          type="email"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo"
          readonly>

        <div ng-messages="userGeneralInfo.email.$error">
          <div ng-message="email">Please insert a valid email</div>
        </div>

      </md-input-container>
    </div><!-- /ASSIST EMAIL -->

    <!-- OFFICE AND CONTRACT -->
    <div layout-gt-xs="row"
      layout-align="start center"
      ng-hide="userGeneralInfo.candidate">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <!-- @!TODO: De facut autocomplete aici, se cunosc birourile -->
        <label>Office Nr.</label>
        <input
          type="text"
          name="office"
          ng-value="userGeneralInfo.user.office_nr"
          ng-model="userGeneralInfo.copyUser.office_nr"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo" />
      </md-input-container>

      <md-input-container md-no-float flex-gt-xs="50">
        <md-select
          aria-label="contract type"
          ng-model="userGeneralInfo.copyUserSchedule.name"
          md-selected-text="userGeneralInfo.getSelectedText(userGeneralInfo.copyUserSchedule.name, contract=0)">
          <md-option
            ng-value="type"
            ng-repeat="type in userGeneralInfo.contractType">
              {{type}}
          </md-option>
        </md-select>
      </md-input-container>

    </div><!-- /OFFICE AND CONTRACT -->




    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>
    <!-- Urgent Contact -->
    <div layout-gt-xs="row">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <label>Urgent Contact Name</label>
        <input
          type="text"
          name="urgentContactName"
          ng-value="userGeneralInfo.user.urgent_contact_name"
          ng-model="userGeneralInfo.copyUser.urgent_contact_name"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo" />
      </md-input-container>

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
       <label>Urgent Contact Phone</label>
        <input
          type="text"
          name="urgentContactPhone"
          ng-value="userGeneralInfo.user.urgent_contact_phone"
          ng-model="userGeneralInfo.copyUser.urgent_contact_phone"
          ng-disabled ="userGeneralInfo.disabledgeneralInfo" />
      </md-input-container>

    </div><!-- /Urgent Contact -->

  </md-content><!-- /FORM GENERAL INFO -->





  <!-- CARD ACTIONS-->
  <md-card-actions
    layout="column"
    layout-align="start"
    ng-show="!userGeneralInfo.settings.showForm">
    <md-button
      class="c-card-profile__btn no-margin"
      ng-click="userGeneralInfo.generalInfoShowHide('general'); userGeneralInfo.toggleForm()">
      Add/Edit general information
    </md-button>
  </md-card-actions>

  <md-card-actions
    layout="row"
    layout-align="center center"
    ng-show="!userGeneralInfo.disabledgeneralInfo"
    class="additional">

    <md-button
      class="md-raised md-primary"
      ng-click="userGeneralInfo.save(); userGeneralInfo.toggleForm()"
      ng-disabled="btnIsDisabled">
      Save
    </md-button>

    <md-button
      class="md-raised"
      ng-click="userGeneralInfo.cancelAdd(); userGeneralInfo.toggleForm()">
      Cancel
    </md-button>

  </md-card-actions>
  <!-- /CARD ACTIONS-->





</md-card><!-- CARD GENERAL INFO -->

