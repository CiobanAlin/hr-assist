<section nlayout="column" ng-cloak="" class="md-inline-form">

  <md-toolbar class="md-table-toolbar">
    <div class="md-toolbar-tools">
      Add Project
    </div>
  </md-toolbar>

  <section class="md-padding">
    <form 
      class="form form-add-project"
      ng-submit="projectForm.add()"
      novalidate
      name="projectFormular"
      >

      <md-tabs md-dynamic-height md-border-bottom md-stretch-tabs="always">
        <!-- GENERAL TAB -->
        <md-tab label="General">
          <md-content class="md-padding">
            <div layout-gt-xs="row">
              <md-input-container md-no-float class="md-block" flex-gt-xs="">

                <label>Name</label>
                <input ng-model="projectForm.project.name" name="name" required>
                  
                <div ng-messages="projectFormular.name.$error">
                  <div ng-message="required">This field is required</div>
                </div>

              </md-input-container>
            </div>
            <div layout-gt-xs="row">
              <md-input-container md-no-float class="md-block" flex-gt-xs="">

                <label>Description</label>
                <textarea 
                  ng-model="projectForm.project.description" 
                  name="description"
                  required>
                </textarea>

                <div ng-messages="projectFormular.description.$error">
                  <div ng-message="required">This field is required</div>
                </div>

              </md-input-container>
            </div>


            <div layout-gt-xs="row">

              <label>Start date*</label>
              <md-datepicker 
                ng-model="projectForm.project.start_date" 
                md-placeholder="Enter date"
                ng-change="projectForm.checkDates()"
                name="start"
                md-open-on-focus
                required>
              </md-datepicker>



              <label>End date*</label>
              <md-datepicker 
                ng-model="projectForm.project.end_date"  
                md-placeholder="Enter date"
                ng-change="projectForm.checkDates()"
                md-open-on-focus
                ng-disabled=projectForm.onGoing
                ng-required="!projectForm.onGoing"
                name="end"
                required>
              </md-datepicker>

            </div>
            <!-- SELECT START/END DATE ERRORS MESSAGE-->
            <div ng-show="projectForm.validateDate" layout-gt-xs="row" layout-align="center center">
              <div class="alert-error fade"
              role="alert">
                End date must be greater than Start date!
              </div>
            </div>
            <div ng-messages="projectFormular['start'].$error" ng-if="projectFormular['start'].$touched" layout-gt-xs="row" layout-align="center center">
              <div ng-message="required" class="alert-info fade" role="alert">
                "Start date" are required!
              </div>
            </div>
            <div ng-messages="projectFormular['end'].$error" ng-if="projectFormular['end'].$touched" layout-gt-xs="row" layout-align="center center">
              <div ng-message="required" class="alert-info fade" role="alert">
                "End date" are required!
              </div>
            </div>
            <!-- /SELECT START/END DATE ERRORS MESSAGE-->


            <!-- SELECT ONGOING PROJECT -->
            <section layout-gt-xs="row">
              <md-input-container class="md-block">
                <md-checkbox name="onGoing" ng-model="projectForm.onGoing"
                  aria-label="Ongoing project."
                  ng-change="projectForm.checkOnGoing(); projectForm.checkDates();"
                  ng-required="!projectForm.project.end_date">
                  Ongoing project.
                </md-checkbox>
                <div ng-messages="prjForm.onGoing.$error" multiple md-auto-hide="false" ng-show="false">
                  <div ng-message="required"></div>
                </div>
              </md-input-container>
            </section>
            <!-- SELECT ONGOING PROJECT -->

          </md-content>
        </md-tab>

      </md-tabs>

      <div layout="row" layout-align="center center">

        <md-button class="md-raised md-primary" 
          ng-click="projectForm.add()"
          ng-disabled="projectFormular.$invalid || projectForm.validateDate">
          Save
        </md-button>

        <md-button class="md-raised md-primary" 
          ng-click="projectForm.clearButton()">
          Clear
        </md-button>

        <md-button class="md-raised" 
          ng-click="projectForm.closeButton()">
          Close
        </md-button>

      </div>

    </form>

  </section>

</section>