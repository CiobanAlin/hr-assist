<!-- CARD GENERAL INFO -->
<md-card class="has-progress-bar">





  <!-- CARD TITLE -->
  <md-card-title layout="row" layout-align="top center">

    <div class="c-profile-progress">
      <span class="c-profile-progress__info">
        {{employeeGeneralInfo.progress}}% completed
      </span>
      <span class="c-profile-progress__bar" style="width: {{employeeGeneralInfo.progress}}%"></span>
    </div>

    <md-card-title-text>
      <span class="md-headline">General informations</span>
      <p class="u-font-small u-no-margin">
        <strong>Last Update at: {{employeeGeneralInfo.employee.updatedAt | date: 'longDate'}}</strong>
      </p>
    </md-card-title-text>

    <md-button
      ng-hide="employeeGeneralInfo.candidate"
      class="md-primary"
      ui-sref="employeesParent.cv({id: employeeGeneralInfo.pId})">
      <!-- @!TODO: De adaugat info despre proiecte la CV -->
      Generate CV
    </md-button>

    <md-button
      ng-show="employeeGeneralInfo.candidate"
      class="md-primary"
      ui-sref="candidateParent.cv({id: employeeGeneralInfo.pId})">
      Generate CV
    </md-button>

  </md-card-title><!-- /CARD TITLE -->





  <!-- CARD NOTES -->
  <md-content class="c-card-profile__notes">
    <p>
      <strong>NOTE: </strong>Complete here with your general personal/work information.
    </p>
  </md-content> <!-- CARD NOTES -->





  <!-- PREVIEW GENERAL INFO -->
  <md-content
    ng-show="employeeGeneralInfo.disabledgeneralInfo"
    class="c-card-profile__preview">
   <section layout-gt-xs="row">

    <div class="c-card-profile__picture"
      flex="20"
      ng-if="employeeGeneralInfo.employee.picture"
      layout-align="top center">
      <img
        ng-src="{{employeeGeneralInfo.employee.picture}}"
        class="md-card-image cv-picture">
    </div>

    <div class="c-card-profile__picture"
      flex="20"
      ng-if="!employeeGeneralInfo.employee.picture"
      layout-align="top center">
      <img
        src="http://www.85percent.co.uk/wp-content/uploads/2015/08/default-placeholder-1024x1024-570x321.png"
        class="md-card-image">
     </div>

     <div flex="80" class="c-card-profile__general-info">

      <p class="c-card-profile__info c-card-profile__name u-clearfix">
        <span class="c-card-profile__info-text u-float-right">
          <strong>
            {{employeeGeneralInfo.employee.first_name}} {{employeeGeneralInfo.employee.middle_name}} {{employeeGeneralInfo.employee.last_name}}
          </strong>
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix">
        <strong>Birthday: </strong>
        <span class="u-float-right">
          {{employeeGeneralInfo.employee.birthday | date: 'dd MMMM yyyy'}}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__phone u-clearfix">
        <strong>Phone: </strong>
        <span class="u-float-right">
          {{employeeGeneralInfo.employee.phone}}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__email u-clearfix">
        <strong>Other email: </strong>
        <span class="u-float-right">
          {{employeeGeneralInfo.employee.emailOther}}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__address u-clearfix">
        <strong>Address: </strong>
        <span class="u-float-right">
          {{ employeeGeneralInfo.employee.address.adresa}}
          {{ employeeGeneralInfo.employee.address.zip }}
          {{ employeeGeneralInfo.employee.address.city }}
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix">
        <strong>Car's license plate: </strong>
        <span class="u-float-right">
          {{ employeeGeneralInfo.employee.carPlate }}
        </span>
      </p>

      <md-divider
        class="md-padding divider-bold u-no-padding u-mt-20 u-mb-20">
      </md-divider>

      <p class="c-card-profile__info c-card-profile__email u-clearfix"
        ng-hide="employeeGeneralInfo.candidate">
        <strong>Start date at ASSIST: </strong>
        <span class="u-float-right">
          {{ employeeGeneralInfo.employee.assistStartDate | date: 'MMMM yyyy' }}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__email u-clearfix">
        <strong>Position: </strong>
        <span class="u-float-right">
          {{ employeeGeneralInfo.employee.assistPositionTitle }}
        </span>
      </p>

      <p class="c-card-profile__info c-card-profile__email u-clearfix">
        <strong>ASSIST email: </strong>
         <span class="u-float-right">
          {{ employeeGeneralInfo.employee.emailAssist }}
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix"
        ng-hide="employeeGeneralInfo.candidate">
        <strong>Office: </strong>
        <span class="u-float-right">
          {{ employeeGeneralInfo.employee.office }}
        </span>
      </p>

      <p class="c-card-profile__info u-clearfix"
        ng-hide="employeeGeneralInfo.candidate">
        <strong>Contract type: </strong>
        <span class="u-float-right">
          {{ employeeGeneralInfo.employee.contractType }}
        </span>
       </p>

      <md-divider
        class="md-padding divider-bold u-no-padding u-mt-20 u-mb-20">
      </md-divider>

      <p class="c-card-profile__info u-clearfix">
        <strong>Urgent Contact Person:</strong>
        <span class="u-float-right">
          {{ employeeGeneralInfo.employee.urgentContact.ContactName }}
        </span>
      </p>

      <p class="c-card-profile__info">
        <strong>Urgent Contact Phone: </strong>
        <span class="u-float-right">
            {{ employeeGeneralInfo.employee.urgentContact.ContactPhone }}
        </span>
      </p>

     </div>

    </section>
  </md-content><!-- /PREVIEW GENERAL INFO -->





  <!-- FORM GENERAL INFO -->
  <md-content
    class="md-padding"
    ng-hide="employeeGeneralInfo.disabledgeneralInfo">
    <!-- @!TODO: Poza este intoarsa, de verificat -->

    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block u-mb-20">
        <md-button
          class="md-raised u-no-margin"
          ngf-select="employeeGeneralInfo.upload($file)"
          ngf-pattern="'image/*'"
          ngf-accept="'image/*'"
          ngf-max-size="1MB"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo">
          Upload profile picture
          <!-- @!TODO: de aratat si in modul edit poza daca asceasta exista -->
       </md-button>
      </md-input-container>
    </div>

    <div ng-show="employeeGeneralInfo.showSuccessMsg"
      class="alert-success fade"
      role="alert">
      Your picture has been successfully uploaded.
    </div>

    <div ng-show="employeeGeneralInfo.showErrMsg"
      class="alert-error fade"
      role="alert">
      A problem occurred while uploading the prohile picture.
    </div>

     <div ng-show="employeeGeneralInfo.showToLargeImage"
      class="alert-error fade"
      role="alert">
      Image size is too big. The size limit is 1MB.
    </div>



    <!-- PERSONAL INFO -->
    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>

    <!-- First Name -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>First Name</label>
        <input
          type="text"
          ng-model="employeeGeneralInfo.employee.firstName"
          name=firstName
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo">

        <div ng-messages="employeeGeneralInfo.firstName.$error">
          <div ng-message="required">This field is required</div>
        </div>

      </md-input-container>
    </div><!-- /First Name -->

    <!-- Middle Name -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>Middle Name</label>
        <input
          type="text"
          ng-model="employeeGeneralInfo.employee.middleName"
          name="middleName"
          ng-disabled="employeeGeneralInfo.disabledgeneralInfo">

        <div ng-messages="employeeGeneralInfo.middleName.$error">
          <div ng-message="required">This field is required</div>
        </div>

      </md-input-container>
    </div><!-- /Middle Name -->

    <!-- Last Name -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>Last Name</label>
        <input
          type="text"
          ng-model="employeeGeneralInfo.employee.lastName"
          name="lastName"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo">

        <div ng-messages="employeeGeneralInfo.lastName.$error">
          <div ng-message="required">This field is required</div>
        </div>

      </md-input-container>
    </div><!-- Last Name -->

    <!-- BIRTHDAY -->
    <div layout-gt-xs="row" layout-align="start center" class="u-ml-10 u-mr-10">

      <label class="u-mr-20">Birthday</label>
      <hra-date-select
        ng-model="employeeGeneralInfo.employee.birthday" >
      </hra-date-select>

    </div><!-- /BIRTHDAY -->




    <!-- CONTACT INFO -->
    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>

    <!-- Address -->
    <div layout-gt-xs="row">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <label>City</label>
        <input
          type="text"
          name=judet
          ng-model="employeeGeneralInfo.employee.address.city"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo">
      </md-input-container>

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <label>ZIP</label>
        <input
          type="text"
          name=localitate
          ng-model="employeeGeneralInfo.employee.address.zip"
          ng-disabled="employeeGeneralInfo.disabledgeneralInfo">
      </md-input-container>

    </div>

    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="100">
        <label>Address</label>
        <input
          type="text"
          name=adresa
          ng-model="employeeGeneralInfo.employee.address.adresa"
          ng-disabled="employeeGeneralInfo.disabledgeneralInfo">
      </md-input-container>
    </div>
    <!-- /Address -->

    <!-- PHONE AND EMAIL -->
    <div layout-gt-xs="row">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">

        <label>Phone</label>
        <input
          ng-model="employeeGeneralInfo.employee.phone"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo">

        <div ng-messages="serverErrors">
          {{serverErrorsArray.data.invalidAttributes.phone[0].message}}
        </div>

      </md-input-container>

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">

        <label>Email</label>
        <input
          ng-model="employeeGeneralInfo.employee.emailOther"
          name="emailOther"
          type="email"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo">

        <div ng-messages="employeeGeneralInfo.email.$error">
          <div ng-message="email">Please insert a valid email</div>
        </div>

      </md-input-container>

    </div><!-- /PHONE AND EMAIL -->

    <!-- CAR LICENSE -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>Car's license plate</label>
        <input
          type="text"
          ng-model="employeeGeneralInfo.employee.carPlate"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo">

      </md-input-container>
    </div><!-- CAR LICENSE -->





    <!-- ASSIST INFO -->
    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>

    <!-- STARTED WORKING ON -->
    <div layout-gt-xs="row" layout-align="start center" ng-hide="employeeGeneralInfo.candidate">
      <label flex-gt-xs="35" class="md-padding">
        <strong>Start date at ASSIST</strong>
      </label>

      <hra-date-select class="hide-days"
        flex-gt-xs="65"
        ng-model="employeeGeneralInfo.employee.assistStartDate">
      </hra-date-select>

    </div><!-- STARTED WORKING ON -->

    <!-- ASSIST POSITION -->
    <div layout-gt-xs="row" layout-align="start center" ng-hide="employeeGeneralInfo.candidate">

      <label flex-gt-xs="35" class="md-padding">
        <strong>Position</strong>
      </label>

      <md-input-container md-no-float class="md-block" flex-gt-xs="65">
        <md-select
          aria-label="Positon"
          ng-model="employeeGeneralInfo.employee.assistPositionTitle"
          md-selected-text="employeeGeneralInfo.getSelectedText(employeeGeneralInfo.employee.assistPositionTitle, position=1)">
            <md-option
             ng-value="position"
             ng-repeat="position in employeeGeneralInfo.employeeAssistPositionTitles track by $index">
               {{position}}
            </md-option>
        </md-select>
      </md-input-container>

    </div><!-- ASSIST POSITION -->

    <!-- ASSIST CANDIDATE POSITION -->
    <div layout-gt-xs="row" layout-align="start center" ng-show="employeeGeneralInfo.candidate">

      <label flex-gt-xs="35" class="md-padding u-mb-20">
        <strong>Position</strong>
      </label>

      <md-input-container md-no-float class="md-block" flex-gt-xs="30">
        <md-select
          aria-label ="Position"
          ng-model="employeeGeneralInfo.employee.assistPositionTitle"
          md-selected-text="employeeGeneralInfo.getSelectedText(employeeGeneralInfo.employee.assistPositionTitle, position=1)">
            <md-option
             ng-value="position"
             ng-repeat="position in employeeGeneralInfo.candidatesPositionTitle">
               {{position}}
            </md-option>
        </md-select>
      </md-input-container>

    </div><!-- ASSIST CANDIDATE POSITION -->

    <!-- ASSIST EMAIL -->
    <div layout-gt-xs="row">
      <md-input-container md-no-float class="md-block" flex-gt-xs="">

        <label>ASSIT email</label>

        <input
          ng-model="employeeGeneralInfo.employee.emailAssist"
          name="emailAssist"
          type="email"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo"
          readonly>

        <div ng-messages="employeeGeneralInfo.email.$error">
          <div ng-message="email">Please insert a valid email</div>
        </div>

      </md-input-container>
    </div><!-- /ASSIST EMAIL -->

    <!-- OFFICE AND CONTRACT -->
    <div layout-gt-xs="row"
      layout-align="start center"
      ng-hide="employeeGeneralInfo.candidate">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <!-- @!TODO: De facut autocomplete aici, se cunosc birourile -->
        <label>Office Nr.</label>
        <input
          type="text"
          name="office"
          ng-model="employeeGeneralInfo.employee.office"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo" />
      </md-input-container>

      <md-input-container md-no-float flex-gt-xs="50">
        <md-select
          aria-label="contract type"
          ng-model="employeeGeneralInfo.employee.contractType"
          md-selected-text="employeeGeneralInfo.getSelectedText(employeeGeneralInfo.employee.contractType, contract=0)">
          <md-option
            ng-value="type"
            ng-repeat="type in employeeGeneralInfo.contractType">
              {{type}}
          </md-option>
        </md-select>
      </md-input-container>

    </div><!-- /OFFICE AND CONTRACT -->




    <md-divider class="divider-bold u-mt-15 u-mb-20"></md-divider>
    <!-- Urgent Contact -->
    <div layout-gt-xs="row">

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
        <label>Urgent Contact Name</label>
        <input
          type="text"
          name="urgentContactName"
          ng-model="employeeGeneralInfo.employee.urgentContact.ContactName"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo" />
      </md-input-container>

      <md-input-container md-no-float class="md-block" flex-gt-xs="50">
       <label>Urgent Contact Phone</label>
        <input
          type="text"
          name="urgentContactPhone"
          ng-model="employeeGeneralInfo.employee.urgentContact.ContactPhone"
          ng-disabled ="employeeGeneralInfo.disabledgeneralInfo" />
      </md-input-container>

    </div><!-- /Urgent Contact -->

  </md-content><!-- /FORM GENERAL INFO -->





  <!-- CARD ACTIONS-->
  <md-card-actions
    layout="column"
    layout-align="start"
    ng-show="employeeGeneralInfo.disabledgeneralInfo">
    <md-button
      class="c-card-profile__btn no-margin"
      ng-click="employeeGeneralInfo.generalInfoShowHide('general'); employeeGeneralInfo.toggleCard($event, 'open')">
      Add/Edit general information
    </md-button>
  </md-card-actions>

  <md-card-actions
    layout="row"
    layout-align="center center"
    ng-show="!employeeGeneralInfo.disabledgeneralInfo"
    class="additional">

    <md-button
      class="md-raised md-primary"
      ng-click="employeeGeneralInfo.saveEmployee(employeeGeneralInfo.employee); employeeGeneralInfo.toggleCard($event, 'close')"
      ng-disabled="btnIsDisabled">
      Save
    </md-button>

    <md-button
      class="md-raised"
      ng-click="employeeGeneralInfo.cancelAdd(); employeeGeneralInfo.toggleCard($event, 'close')">
      Cancel
    </md-button>

  </md-card-actions>
  <!-- /CARD ACTIONS-->





</md-card><!-- CARD GENERAL INFO -->

